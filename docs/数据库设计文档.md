# 数据库设计文档

## 数据库概述
- 数据库名：lmodeldb
- 字符集：utf8mb4
- 排序规则：utf8mb4_0900_ai_ci
- 数据库类型：MySQL 8.0

## 表结构设计

### 1. 用户表 (user)
| 字段名 | 类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|------|------|----------|--------|------|
| id | int | - | NO | AUTO_INCREMENT | 主键ID |
| name | varchar | 255 | YES | NULL | 用户名 |
| pwd | varchar | 255 | YES | NULL | 密码 |
| phone | varchar | 255 | YES | NULL | 手机号 |
| email | varchar | 255 | YES | NULL | 邮箱 |
| role | varchar | 255 | YES | NULL | 角色(admin/user) |

**索引设计：**
- 主键索引：id
- 唯一索引：name（用户名唯一）

### 2. 文章表 (article)
| 字段名 | 类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|------|------|----------|--------|------|
| id | int | - | NO | AUTO_INCREMENT | 主键ID |
| title | varchar | 500 | YES | NULL | 文章标题 |
| typeId | int | - | YES | NULL | 文章类型ID |
| author | varchar | 255 | YES | NULL | 作者 |
| simpleabstract | varchar | 2000 | YES | NULL | 文章摘要 |
| content | varchar | 9999 | YES | NULL | 文章内容 |
| publishDate | datetime | - | YES | NULL | 发布时间 |
| imagePath | varchar | 500 | YES | NULL | 图片路径 |
| userId | int | - | YES | NULL | 用户ID |

**索引设计：**
- 主键索引：id
- 外键索引：typeId -> type.id
- 外键索引：userId -> user.id
- 普通索引：publishDate（用于时间排序）

### 3. 文章类型表 (type)
| 字段名 | 类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|------|------|----------|--------|------|
| id | int | - | NO | AUTO_INCREMENT | 主键ID |
| typeName | varchar | 255 | YES | NULL | 类型名称 |

**索引设计：**
- 主键索引：id
- 唯一索引：typeName（类型名称唯一）

### 4. 收藏表 (favorite)
| 字段名 | 类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|------|------|----------|--------|------|
| id | int | - | NO | AUTO_INCREMENT | 主键ID |
| userId | int | - | YES | NULL | 用户ID |
| articleId | int | - | YES | NULL | 文章ID |
| createAt | datetime | - | YES | NULL | 收藏时间 |

**索引设计：**
- 主键索引：id
- 外键索引：userId -> user.id
- 外键索引：articleId -> article.id
- 复合索引：(userId, articleId) 防止重复收藏

## 表关系设计

### 实体关系图
```
user (用户)
 ├── 1:N ──> article (文章)
 └── 1:N ──> favorite (收藏)

type (文章类型)
 └── 1:N ──> article (文章)

article (文章)
 └── N:1 ──> type (文章类型)
 └── N:1 ──> user (用户)

favorite (收藏)
 └── N:1 ──> user (用户)
 └── N:1 ──> article (文章)
```

## 数据初始化

### 初始用户数据
系统预置了6个用户账户，包括1个管理员和5个普通用户。

### 初始文章类型
系统预置了3个文章类型：Java、C、Python，涵盖了主要的编程语言分类。

### 初始文章数据
系统包含8篇示例文章，内容涵盖：
- 大规模语言模型与生成模型
- Java编程技巧
- C/C++指针详解
- AI开发者生态报告
- Python语法入门
- 大语言模型推理
- LangChain使用指南
- 多模态大语言模型

## 数据库性能优化

### 索引优化建议
1. **复合索引**：为常用查询条件创建复合索引
2. **覆盖索引**：减少回表查询
3. **索引维护**：定期分析索引使用情况

### 查询优化建议
1. **分页查询**：使用LIMIT和OFFSET进行分页
2. **关联查询**：合理使用JOIN和子查询
3. **数据缓存**：对热点数据进行缓存 