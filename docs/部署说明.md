# 项目部署说明

## 环境准备

### 系统要求
- 操作系统：Windows 10+ / Linux / macOS
- 内存：至少4GB RAM
- 磁盘空间：至少2GB可用空间

### 软件要求
- JDK 20+
- Node.js 16+
- MySQL 8.0+
- Maven 3.6+
- Git

## 部署步骤

### 1. 环境检查
```bash
# 检查Java版本
java -version

# 检查Node.js版本
node -v
npm -v

# 检查Maven版本
mvn -v

# 检查MySQL版本
mysql --version
```

### 2. 数据库部署
```sql
# 创建数据库
CREATE DATABASE lmodeldb CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci;

# 导入数据
mysql -u root -p lmodeldb < lmodeldb.sql
```

### 3. 后端部署
```bash
cd zhouxuelian8/zhouxuelian8

# 修改数据库配置
vim src/main/resources/application.properties

# 编译项目
mvn clean compile

# 运行项目
mvn spring-boot:run

# 或者打包后运行
mvn clean package
java -jar target/news-server-0.0.1-SNAPSHOT.jar
```

### 4. 前端部署
```bash
cd "zhouxuelian8 前端/zhouxuelian8"

# 安装依赖
npm install

# 开发环境运行
npm run serve

# 生产环境构建
npm run build

# 部署到Web服务器
# 将dist目录内容复制到Web服务器根目录
```

### 5. 生产环境配置

#### Nginx配置示例
```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    # 前端静态文件
    location / {
        root /var/www/frontend/dist;
        try_files $uri $uri/ /index.html;
    }
    
    # 后端API代理
    location /api/ {
        proxy_pass http://localhost:8089/zhouxuelian8/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

#### 系统服务配置
创建systemd服务文件：
```ini
[Unit]
Description=Computer Resource Sharing Platform
After=network.target

[Service]
Type=simple
User=www-data
WorkingDirectory=/opt/backend
ExecStart=/usr/bin/java -jar news-server-0.0.1-SNAPSHOT.jar
Restart=always

[Install]
WantedBy=multi-user.target
```

## 配置说明

### 数据库配置
在`application.properties`中修改以下配置：
```properties
spring.datasource.url=jdbc:mysql://localhost:3306/lmodeldb?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
spring.datasource.username=your_username
spring.datasource.password=your_password
```

### JWT配置
```properties
jwt.secret=your_jwt_secret_key_here
jwt.expiration=86400000
```

### 文件上传配置
```properties
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=100MB
```

## 常见问题

### 1. 端口占用
如果8089端口被占用，可以修改`application.properties`中的`server.port`配置。

### 2. 数据库连接失败
- 检查MySQL服务是否启动
- 检查数据库用户名密码是否正确
- 检查数据库是否创建

### 3. 前端依赖安装失败
```bash
# 清除npm缓存
npm cache clean --force

# 使用淘宝镜像
npm config set registry https://registry.npmmirror.com
```

## 性能优化建议

### 后端优化
- 配置数据库连接池参数
- 启用MyBatis缓存
- 配置日志级别

### 前端优化
- 启用Gzip压缩
- 配置CDN加速
- 优化图片资源

## 监控和维护

### 日志查看
```bash
# 查看应用日志
tail -f logs/application.log

# 查看错误日志
grep ERROR logs/application.log
```

### 性能监控
- 使用JVM监控工具
- 监控数据库性能
- 监控系统资源使用 